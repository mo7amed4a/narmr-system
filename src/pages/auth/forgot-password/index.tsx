import { Card } from "@/components/ui/card";
import { useState } from "react";
import { Link } from "react-router-dom";
import OtpForm from "../register/_components/otp";
import ForgotPasswordForm from "./_components/ForgotPasswordForm";


export default function ForgotPasswordPage() {
  const [steps, setSteps] = useState(1);
 

  return (
    <div
      className="min-h-screen flex items-center justify-center relative"
      dir="rtl"
    >
      <div className="grid grid-cols-2 w-screen h-screen fixed inset-0">
        <img src="/auth/background.png" className="h-screen fixed start-0 top-0 w-2/4" />
      </div>
      <Card className="w-full max-w-xl p-6 space-y-6 relative z-10">
        <div className="flex justify-center mb-6">
          <svg
            width={152}
            height={49}
            viewBox="0 0 152 49"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M60.4586 42.3813H70.6995C71.7203 42.3813 72.9058 42.2486 74.2229 42.0164C80.0843 40.3578 83.015 36.8084 83.015 31.335V29.975C83.015 27.0558 81.9283 24.5347 79.7221 22.4781C81.1709 20.156 81.9283 17.6681 81.9283 14.9812C81.8624 13.3557 81.6319 11.8962 81.3027 10.5693C79.4257 5.65981 75.5072 3.20508 69.6129 3.20508H60.4586C58.3841 3.20508 57.1987 4.39927 56.9352 6.75449V38.7987C56.9023 40.9217 58.0878 42.0828 60.4586 42.3813ZM64.1137 10.4366H67.6371C72.1813 10.4366 74.4534 11.7966 74.4534 14.4836V15.2134L74.3217 16.4407C73.3668 18.232 71.6545 19.1277 69.1848 19.1277H64.0808V10.4366H64.1137ZM64.1137 26.4255H68.8555C73.3997 26.4255 75.6718 27.7856 75.6718 30.4725V30.8374C75.6718 32.6287 74.8486 33.7897 73.2351 34.3868C73.2351 34.8844 70.3044 35.1166 64.443 35.1166C64.2125 35.1166 64.0808 35.0503 64.0808 34.8844V26.4255H64.1137Z"
              fill="#8E3C3B"
            />
            <path
              d="M86.5049 42.3813H93.2224C93.387 42.3813 93.4529 42.315 93.4529 42.1491V12.8913L94.309 13.6211C98.6886 19.3267 100.895 27.6529 100.895 38.666V42.1159C100.895 42.2818 100.961 42.3481 101.125 42.3481H107.942C108.106 42.3481 108.172 42.2818 108.172 42.1159V38.9314C108.172 31.5672 109.226 25.0655 111.333 19.3931C112.091 17.2037 113.507 15.0475 115.614 12.8913V42.1159C115.614 42.2818 115.68 42.3481 115.845 42.3481H122.562C122.727 42.3481 122.793 42.2818 122.793 42.1159V3.43728L122.661 3.20508C119.137 3.20508 116.536 3.66949 114.857 4.56513C110.28 6.95352 106.888 11.0669 104.616 16.9715H104.385C104.385 16.5734 103.562 14.8485 101.949 11.8298C100.829 10.0717 99.413 8.47944 97.6678 7.05304C95.3298 4.49879 91.5759 3.23825 86.439 3.23825C86.3073 3.23825 86.2414 3.30459 86.2085 3.47045V42.1491C86.2744 42.2818 86.3402 42.3813 86.5049 42.3813Z"
              fill="#8E3C3B"
            />
            <path
              d="M150.782 25.4278C148.773 22.7077 145.019 20.5846 139.553 19.0256C134.778 17.8314 132.374 16.4381 132.374 14.879V14.3815C132.374 13.5522 132.572 12.6565 133 11.6945C133.922 10.4008 135.733 9.73737 138.499 9.73737C142.253 9.73737 144.097 11.8272 144.097 16.0069V17.2343C144.097 17.4001 144.163 17.4665 144.328 17.4665H151.144C151.308 17.4665 151.374 17.4001 151.374 17.2343V17.0021C151.374 13.0878 150.815 10.2018 149.662 8.41049C147.225 4.49618 143.702 2.50586 139.059 2.50586H137.61C136.326 2.50586 134.976 2.67172 133.593 3.00344C127.896 4.79473 125.064 8.54318 125.064 14.3151V14.5473C125.064 17.3006 125.789 19.49 127.27 21.1817C129.147 23.3379 132.934 25.2287 138.598 26.821C142.747 27.783 144.821 29.0435 144.821 30.6358C144.821 31.0007 144.69 31.5978 144.459 32.4934C143.636 34.2847 141.858 35.1804 139.092 35.1804C135.799 35.1804 133.659 33.953 132.638 31.4982C132.374 28.8777 132.177 27.5839 132.012 27.5839H125.196L124.965 27.7166C124.965 30.9343 125.525 33.6876 126.678 35.9433C129.575 40.2888 133.461 42.445 138.367 42.445H139.816C141.101 42.445 142.418 42.2792 143.702 41.9475C149.234 39.9571 152 36.275 152 30.9012V30.0387C152 28.4132 151.605 26.8873 150.782 25.4278Z"
              fill="#8E3C3B"
            />
            <path
              d="M0.0329289 27.4843C2.10745 27.4843 4.05026 27.617 5.96014 27.4511C8.00173 27.2852 8.5286 28.0814 8.46274 30.0385C8.33102 34.3841 8.42981 38.7628 8.42981 43.3737C11.6239 43.3737 14.3899 43.44 17.156 43.3737C21.799 43.2742 26.4419 43.3405 31.052 42.8761C36.0572 42.3454 39.4159 39.0613 40.1075 34.8153C40.8978 29.7068 39.3172 26.7877 34.279 24.0676C34.0485 23.9349 33.818 23.769 33.4229 23.5368C33.9827 23.0392 34.4107 22.6743 34.8388 22.2763C40.1404 17.7317 38.9879 9.37232 32.5667 6.65221C27.8579 4.66189 22.9185 5.72339 17.9463 5.55753H14.7522V6.58587V12.2251H14.7851V12.3246H19.4939C19.6257 12.3246 19.7244 12.3246 19.8562 12.3246C20.1196 12.3246 20.383 12.3246 20.6464 12.3246H21.4367C23.0832 12.3246 24.7296 12.391 26.3761 12.5568C28.1542 12.7559 29.7019 13.6183 30.13 15.6087C30.5581 17.6985 29.8336 19.2908 27.8579 20.2528C27.331 20.5181 26.6724 21.0821 26.6395 21.5796C26.5078 23.5036 26.5737 25.4276 26.5737 27.3516C27.364 27.5174 27.8908 27.617 28.3847 27.7497C31.1508 28.3799 32.4021 29.7732 32.3362 32.1284C32.2704 34.4172 30.8544 36.0095 28.0225 36.1754C24.1698 36.4076 20.2842 36.2417 16.1352 36.2417C16.1352 34.0192 16.234 31.9957 16.1023 30.0054C15.9705 28.1809 16.5303 27.3848 18.4731 27.5506C20.4489 27.6833 22.4575 27.5838 24.4991 27.5838V20.8499C23.5771 20.8499 22.7539 20.8499 21.9636 20.8499C16.3328 20.8499 10.7348 20.7835 5.10399 20.9162C2.99653 20.9825 2.43674 20.2528 2.5026 18.2293C2.66724 14.0828 2.53553 9.93625 2.53553 5.78974V2.87059H45.1456V45.6958H2.53553V29.5409H0V48.25H47.747V0.25H0.0329289V27.4843Z"
              fill="#8E3C3B"
            />
            <path
              d="M12.085 5.55859H5.46631V12.2262H12.085V5.55859Z"
              fill="#8E3C3B"
            />
            <path
              d="M91.477 46.3573C91.477 46.291 91.444 46.2578 91.3452 46.2578H91.2465C91.1477 46.2578 91.1147 46.291 91.1147 46.3573V47.0208H91.477V46.3573Z"
              fill="#8E3C3B"
            />
            <path
              d="M100.894 46.3573C100.894 46.291 100.862 46.2578 100.763 46.2578H100.664C100.565 46.2578 100.532 46.291 100.532 46.3573V47.0208H100.894V46.3573Z"
              fill="#8E3C3B"
            />
            <path
              d="M98.3588 46.3573C98.3588 46.291 98.3259 46.2578 98.2271 46.2578H98.1283C98.0295 46.2578 97.9966 46.291 97.9966 46.3573V47.0208H98.3588V46.3573Z"
              fill="#8E3C3B"
            />
            <path
              d="M56.0122 48.2516H148.444V45.8301H56.0122V48.2516ZM114.626 46.0291H114.988L115.284 47.1901L115.581 46.0291H115.943V47.9863H115.614L115.647 46.7257L115.416 47.6545H115.186L114.922 46.6926L114.955 47.9531H114.626V46.0291ZM113.605 46.0291H114.395V46.2613H113.934V46.8584H114.362V47.0906H113.934V47.7541H114.395V47.9863H113.605V46.0291ZM112.485 46.0291H113.407V46.2613H113.111V47.9863H112.782V46.2613H112.485V46.0291ZM111.399 47.5219H111.728V47.6214C111.728 47.6877 111.761 47.7209 111.86 47.7209H111.926C112.024 47.7209 112.057 47.6877 112.057 47.6214V47.2897C112.057 47.2565 112.057 47.2233 112.024 47.2233C111.991 47.2233 111.991 47.1901 111.926 47.1901L111.629 47.0243C111.563 46.9911 111.53 46.9579 111.497 46.9579C111.465 46.9579 111.432 46.9248 111.432 46.8916C111.432 46.8584 111.399 46.8252 111.399 46.7589V46.3608C111.399 46.1286 111.53 46.0291 111.794 46.0291H111.991C112.255 46.0291 112.387 46.1286 112.387 46.3608V46.5599H112.057V46.394C112.057 46.3277 112.024 46.2613 111.926 46.2613H111.86C111.761 46.2613 111.728 46.2945 111.728 46.394V46.7257C111.728 46.7589 111.728 46.7921 111.761 46.7921C111.794 46.7921 111.794 46.8252 111.86 46.8252L112.156 46.9579C112.222 46.9911 112.255 47.0243 112.288 47.0243C112.321 47.0574 112.321 47.0574 112.354 47.0906C112.387 47.1238 112.387 47.157 112.387 47.2233V47.6545C112.387 47.8867 112.255 47.9863 111.991 47.9863H111.794C111.53 47.9863 111.399 47.8536 111.399 47.6214V47.5219ZM110.477 46.0291L110.707 46.8916L110.938 46.0291H111.267L110.872 47.2565V47.9863H110.543V47.2565L110.147 46.0291H110.477ZM109.127 47.5219H109.456V47.6214C109.456 47.6877 109.489 47.7209 109.588 47.7209H109.653C109.752 47.7209 109.785 47.6877 109.785 47.6214V47.2897C109.785 47.2565 109.785 47.2233 109.752 47.2233C109.719 47.2233 109.719 47.1901 109.653 47.1901L109.357 47.0574C109.291 47.0243 109.258 46.9911 109.225 46.9911C109.192 46.9579 109.16 46.9579 109.16 46.9248C109.16 46.8916 109.127 46.8584 109.127 46.7921V46.3608C109.127 46.1286 109.258 46.0291 109.522 46.0291H109.719C109.983 46.0291 110.114 46.1286 110.114 46.3608V46.5599H109.785V46.394C109.785 46.3277 109.752 46.2613 109.653 46.2613H109.621C109.522 46.2613 109.489 46.2945 109.489 46.394V46.7257C109.489 46.7589 109.489 46.7921 109.522 46.7921C109.555 46.7921 109.555 46.8252 109.621 46.8252L109.917 46.9579C109.983 46.9911 110.016 47.0243 110.049 47.0243C110.082 47.0574 110.082 47.0574 110.114 47.0906C110.114 47.1238 110.147 47.157 110.147 47.2233V47.6545C110.147 47.8867 110.016 47.9863 109.752 47.9863H109.555C109.291 47.9863 109.16 47.8536 109.16 47.6214V47.5219H109.127ZM107.513 46.0291H108.435V46.2613H108.139V47.9863H107.809V46.2613H107.513V46.0291ZM106.361 46.0291H106.69L107.019 46.9579V46.0291H107.348V47.9863H107.019V47.5882L106.69 46.6926V47.9531H106.361V46.0291ZM105.34 46.0291H106.13V46.2613H105.669V46.8584H106.097V47.0906H105.669V47.7541H106.13V47.9863H105.34V46.0291ZM103.759 46.0291H104.121L104.418 47.1901L104.714 46.0291H105.076V47.9863H104.747L104.78 46.7257L104.549 47.6545H104.319L104.056 46.6926L104.088 47.9531H103.759V46.0291ZM102.738 46.0291H103.529V46.2613H103.068V46.8584H103.496V47.0906H103.068V47.7541H103.529V47.9863H102.738V46.0291ZM101.487 46.3608C101.487 46.1286 101.619 46.0291 101.849 46.0291H102.08C102.343 46.0291 102.475 46.1286 102.475 46.3608V46.5599H102.146V46.394C102.146 46.2945 102.113 46.2613 102.014 46.2613H101.948C101.849 46.2613 101.816 46.2945 101.816 46.394V47.5882C101.816 47.6877 101.849 47.7209 101.948 47.7209H102.179V47.2565H102.014V47.0243H102.508V47.9863H101.882C101.652 47.9863 101.52 47.8867 101.52 47.6545V46.3608H101.487ZM100.236 46.3608C100.236 46.1286 100.367 46.0291 100.631 46.0291H100.861C101.125 46.0291 101.257 46.1286 101.257 46.3608V47.9863H100.927V47.2565H100.565V47.9863H100.236V46.3608ZM98.9515 46.0291H99.2808L99.6101 46.9579V46.0291H99.9394V47.9863H99.6101V47.5882L99.2808 46.6926V47.9531H98.9515V46.0291ZM97.6673 46.3608C97.6673 46.1286 97.799 46.0291 98.0625 46.0291H98.293C98.5564 46.0291 98.6881 46.1286 98.6881 46.3608V47.9863H98.3588V47.2565H97.9966V47.9863H97.6673V46.3608ZM96.1197 46.0291H96.4819L96.7782 47.1901L97.0746 46.0291H97.4368V47.9863H97.1075L97.1405 46.7257L96.9099 47.6545H96.6794L96.4489 46.7257L96.4819 47.9863H96.1526V46.0291H96.1197ZM94.6049 46.0291L94.8354 46.8916L95.0659 46.0291H95.3952L95.0001 47.2565V47.9863H94.6708V47.2565L94.2756 46.0291H94.6049ZM93.3207 46.0291H94.2427V46.2613H93.9463V47.9863H93.6171V46.2613H93.3207V46.0291ZM92.1023 46.0291H92.4316V47.6214C92.4316 47.7209 92.4645 47.7541 92.5633 47.7541H92.695C92.7938 47.7541 92.8268 47.7209 92.8268 47.6214V46.0291H93.156V47.6214C93.156 47.8536 93.0243 47.9863 92.7609 47.9863H92.4975C92.234 47.9863 92.1023 47.8536 92.1023 47.6214V46.0291ZM90.8181 46.3608C90.8181 46.1286 90.9498 46.0291 91.2132 46.0291H91.4437C91.7072 46.0291 91.8389 46.1286 91.8389 46.3608V47.9863H91.5096V47.2565H91.1474V47.9863H90.8181V46.3608ZM89.7973 46.0291H90.5876V46.2613H90.1266V46.8584H90.5547V47.0906H90.1266V47.7541H90.5876V47.9863H89.7973V46.0291ZM88.546 46.0291H89.1058C89.4022 46.0291 89.5339 46.1618 89.5339 46.394V46.7589C89.5339 46.8584 89.468 46.9248 89.3034 46.9579C89.468 46.9911 89.5668 47.0574 89.5668 47.1901V47.6877C89.5668 47.8867 89.4351 47.9863 89.2046 47.9863H88.5789V46.0291H88.546Z"
              fill="#8E3C3B"
            />
            <path
              d="M89.2377 47.6538V47.2225C89.2377 47.123 89.1718 47.0898 89.0401 47.0898H88.8755V47.7533H89.106C89.1719 47.7533 89.2377 47.7201 89.2377 47.6538Z"
              fill="#8E3C3B"
            />
            <path
              d="M89.2048 46.6891V46.3905C89.2048 46.291 89.1719 46.2578 89.0731 46.2578H88.8755V46.8549H89.0401C89.1389 46.8549 89.2048 46.7886 89.2048 46.6891Z"
              fill="#8E3C3B"
            />
          </svg>
        </div>

        <div className="text-center space-y-2">
          <h1 className="text-2xl font-bold text-gray-900">نسيت كلمة السر؟</h1>
          <p className="text-gray-500 text-sm">
            مرحباً، الرجاء إدخال التفاصيل الخاصة بك.
          </p>
        </div>

        {steps === 1 && <OtpForm setSteps={setSteps}/>}
        {steps === 2 && <ForgotPasswordForm />}

        <div className="flex justify-between">
            <Link className="text-sm text-primary hover:underline" to="/">تسجيل الدخول</Link>
            <Link className="text-sm text-primary hover:underline" to="/register">تسجيل حساب</Link>
          </div>
      </Card>
    </div>
  );
}
